{% extends 'base.html' %} 
{% load static %} 
{% block title %}Hult Prize - Join a team{% endblock title%} 
{% block css %}
{% comment %} <link rel="stylesheet" href="{% static 'css/join-team.css' %}" /> {% endcomment %}
<style>
    .teams-container {
        margin: 50px;
    }
    .create-team-box {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 25px;
    }
    .create-team-box a {
        background-color: rgb(230, 0, 127);
        color: white;
        text-decoration: none;
        padding: 5px 7px;
        border-radius: 5px;
    }
    .create-team-box a:hover {
        color:white;
    }
</style>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
  crossorigin="anonymous"
/>
{% endblock css %} 

{% block body %}
{% for message in messages %}
<div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
  <strong>Message : </strong> {{ message }}
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
  >
  </button>
</div>
{% endfor %}

<div class="create-team-box">
    <a href="/create-team">Create Team</a>
</div>

<div class='teams-container'>
    {% for team in data %}
    {% if forloop.counter0|divisibleby:2 %}
    <div>
        <h2>{{ team.team_name }}</h2>
        <h4>{{ team.leader }}</h4>
    </div>
    <form action="/join-team" method="POST">
        {% csrf_token %}
        <input value="{{ team.auth_token }}" name="auth_token" hidden>
        <button type="submit">Join team</button>
    </form>
    {% else %}
    {% for t in team %}
        <ul>
        {% for i in t %}
            <li>{{ i.first_name }} {{ i.last_name }}</li>
        {% endfor %}
        </ul>
    {% endfor %}
    {% endif %}
    {% endfor %}
</div>
{% endblock body %}

{% block script %}
<script
  src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
  integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
  integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
  crossorigin="anonymous"
></script>
{% endblock script %}